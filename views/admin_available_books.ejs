<!DOCTYPE html>
<html>

<head>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">


</head>

<body style="padding: 4rem;">
    <div class="container-fluid mx-0 px-0">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title text-center display-3"> Welcome Admin</h2>
                <h3 class="card-title text-center display-4 mb-5">Available Books</h3>
                <div class="container text-center mb-5">
                    <form method="post" action="/admin/available_books/filtered">

                        <div class="row">
                            <div class="col pr-5">
                                <h3 class="display-heading">Search By:</h3>
                            </div>
                            <div class="col">
                                <input type="text" name="title" class="form-control" placeholder="Title">
                            </div>
                            <div class="col">
                                <input type="text" name="author" class="form-control" placeholder="Author name">
                            </div>
                            <div class="col">
                                <input type="text" name="publisher" class="form-control" placeholder="Publisher">
                            </div>
                            <div class="col">
                                <select class="form-select" name="rating" id="inlineFormCustomSelect">
                                    <option selected>Rating</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>
                            </div>
                            <div class="col">
                                <button type="submit" class="btn btn-primary  btn-block"
                                    style="width: 70%;">Filter</button>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="row mb-4 text-left">
                    <div class="col">
                        <h4 class="display-heading">Applied Filters:</h4>
                    </div>
                    <% if(filters){ %>
                    <% filters.forEach(function(filter){ %>
                    <div class="col">
                        <p class="text-md-left">
                            <%= filter %>
                        </p>
                    </div>
                    <% }); %>
                    <% } %>
                </div>

                <form action="/admin/delete_books" method="post">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col"> </th>
                                <th scope="col">Title</th>
                                <th scope="col">Author</th>
                                <th scope="col">Publisher</th>
                                <th scope="col">Rating</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if(books){ %>
                            <% books.forEach(function(book){ %>

                            <tr class="table table-primary">
                                <td>

                                    <input class="form-check-input" type="checkbox" name="select"
                                        value="<%=book.Book_ID%>" id="flexCheckDefault">
                                </td>
                                <th scope="row"><%=book.Name%></th>
                                <td><%= book.Author%></td>
                                <td><%= book.Publisher%> </td>
                                <td> <%=book.Rating%> </td>
                            </tr>
                            <% }); %>
                            <% } %>

                        </tbody>
                    </table>
                    <div class="container text-center">
                        <button type="submit" name="btn" value="del" class="btn btn-primary">Delete</button>
                        <button type="submit" name="btn" value="ins" class="btn btn-primary">Insert Books</button>

                    </div>
                </form>

            </div>
        </div>
    </div>
</body>

</html>